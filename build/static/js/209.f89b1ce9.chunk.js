"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[209],{5209:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var i=s(9332),r=s(7411),n=s(510),a=s(971),l=(s(8046),s(7836),s(6358)),d=s(1851),c=s(5773),o=s(6325),h=s(4119),x=s(4891),m=s(6345);const u=e=>{let{posts:t,onDeletePost:s}=e;const[i,r]=(0,c.useState)(!1),[u,y]=(0,c.useState)(0);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l.EbayAlertDialog,{open:i,confirmText:"\u5220\u9664",onConfirm:()=>{r(!1),s(u)},a11yClosetext:"Close",children:[(0,m.jsx)(d.EbayDialogHeader,{children:"\u786e\u5b9a\u8981\u5220\u9664\u5f53\u524d\u6587\u7ae0\u5417\uff1f"}),(0,m.jsx)("p",{children:"\u5220\u9664\u540e\u5c06\u4e0d\u53ef\u89c1\u3002"})]}),(0,m.jsxs)("div",{className:"list",children:[(0,m.jsx)("div",{className:"summary",children:(0,m.jsx)(j,{})}),(0,m.jsx)(a.Y1,{height:window.innerHeight,width:window.innerWidth-100,itemCount:t.length,itemSize:100,children:e=>{let{index:s,style:i}=e;return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{style:{...i,display:"flex"},children:[(0,m.jsx)("div",{className:"first-column",children:(0,m.jsx)("a",{href:"/post/".concat(t[s].id),children:(0,m.jsx)(n.A,{size:40,src:t[s]["cover-image"]})})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)("a",{children:t[s].title})}),(0,m.jsx)("div",{children:(0,m.jsx)("a",{style:{fontSize:"12px",color:"grey"},children:t[s]["created-time"]})})]}),(0,m.jsxs)("div",{title:"\u5220\u9664",style:{marginLeft:"300px"},children:[(0,m.jsx)(x.EbayButton,{size:"small",onClick:()=>{return e=t[s].id,void(window.location.href="/admin/post/edit/".concat(e));var e},children:(0,m.jsx)(o.EbayIcon,{name:"ai-spectrum-filled16-colored",style:{width:"20px",height:"20px"}})}),(0,m.jsx)(x.EbayButton,{priority:"primary",variant:"destructive",onClick:()=>{return e=t[s].id,y(e),void r(!0);var e},children:(0,m.jsx)(o.EbayIcon,{name:"delete16",style:{width:"20px",height:"20px",cursor:"pointer"}})})]})]}),(0,m.jsx)(h.EbaySvg,{})]})}})]})]})},j=e=>{let{posts:t=[]}=e;const[s,i]=(0,c.useState)({});(0,c.useEffect)((()=>{Array.isArray(t)&&(t.sort(((e,t)=>new Date(t["created-time"])-new Date(e["created-time"]))),i(t[0]))}),[]);return(0,m.jsx)("div",{className:"header-top bg-light",children:(0,m.jsxs)("h6",{children:["\u5f53\u524d\u5171\u6709",t.length,"\u6587\u7ae0, \u6700\u8fd1\u4e00\u7bc7\u6587\u7ae0\u53d1\u8868\u4e8e:",s?s["created-time"]:"",(0,m.jsx)(x.EbayButton,{onClick:()=>{window.location.href="/admin/post/edit"},size:"small",priority:"primary",style:{marginLeft:"10px",float:"right"},children:"\u65b0\u589e"})]})})};u.Summary=j;var y=s(935);const p=()=>{const[e,t]=(0,c.useState)([]);return(0,c.useEffect)((()=>{(async()=>{const e=await(0,i.J)(r.B.POSTS_URI,[{key:"useMock",value:"true"}]);e.sort(((e,t)=>new Date(t["created-time"])-new Date(e["created-time"]))),t(e)})()}),[]),{posts:e}},v=()=>{const{posts:e}=p();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.A,{activeIndex:"post"}),(0,m.jsx)(u,{posts:e,onDeletePost:async e=>{const t=await(0,i.J)(r.B.POST_DELETE,[{key:"id",value:e}]);t&&t.id&&location.reload()},children:(0,m.jsx)(u.Summary,{posts:e})})]})}},8046:()=>{}}]);
//# sourceMappingURL=209.f89b1ce9.chunk.js.map