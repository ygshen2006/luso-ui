{"version":3,"file":"static/js/256.196778ff.chunk.js","mappings":"2IAEA,MAsBA,EAtBiBA,IAAe,IAAd,KAAEC,GAAMD,EACxB,MAAME,GAAUC,EAAAA,EAAAA,UAIhB,OAHAC,EAAAA,EAAAA,YAAU,KACRF,EAAQG,QAAQC,UAAYL,EAAKC,OAAO,GACvC,CAACD,KAEFM,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,6BAA6BC,MAAO,CAAEC,UAAW,QAASH,UACvEI,EAAAA,EAAAA,MAAA,OAAKH,UAAU,YAAWD,SAAA,EACxBI,EAAAA,EAAAA,MAAA,MAAIH,UAAU,QAAOD,SAAA,CAAC,SAAER,EAAKa,MAAM,aACnCD,EAAAA,EAAAA,MAAA,OAAKH,UAAU,eAAcD,SAAA,CAAC,sBAAKR,EAAK,oBAKxCM,EAAAA,EAAAA,KAAA,OAAKG,UAAU,UAAUK,IAAKb,UAGjC,C,kICZP,MAoDA,EApDcc,KACZ,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IACvCf,EAAAA,EAAAA,YAAU,KACWkB,WACjBD,GAAW,GACX,MAAME,QAAeC,EAAAA,EAAAA,GAAIC,EAAAA,EAAeC,UAAW,CACjD,CACEC,IAAK,UACLC,MAAO,UAIXL,EAAOM,MAAK,CAACC,EAAGC,IACP,IAAIC,KAAKD,EAAE,iBAAmB,IAAIC,KAAKF,EAAE,mBAElDZ,EAASK,GACTF,GAAW,EAAM,EAGnBY,EAAY,GACX,IAKH,OACEpB,EAAAA,EAAAA,MAAA,OAAAJ,SAAA,EACEF,EAAAA,EAAAA,KAAC2B,EAAAA,EAAM,CAACC,YAAY,SACnBf,GACCP,EAAAA,EAAAA,MAAA,OAAAJ,SAAA,EACEF,EAAAA,EAAAA,KAAC6B,EAAAA,EAAQ,CAACC,QAAM,EAACC,WAAS,KAC1B/B,EAAAA,EAAAA,KAAC6B,EAAAA,EAAQ,CAACC,QAAM,EAACC,WAAS,KAC1B/B,EAAAA,EAAAA,KAAC6B,EAAAA,EAAQ,CAACC,QAAM,EAACC,WAAS,QAG5BzB,EAAAA,EAAAA,MAAAL,EAAAA,SAAA,CAAAC,SAAA,CACG,KACDF,EAAAA,EAAAA,KAACgC,EAAAA,GAAa,CACZC,OAAQC,OAAOC,YACfC,MAAOF,OAAOG,WACdC,UAAW5B,EAAM6B,OACjBC,SAAU,EAAEtC,SAnBJT,IAAgB,IAAf,MAAEgD,GAAOhD,EAC1B,OAAOO,EAAAA,EAAAA,KAAC0C,EAAAA,EAAQ,CAAChD,KAAMgB,EAAM+B,IAAU,SAwBjC,C","sources":["components/Others/Post/PostView.jsx","components/Others/Post/PostsContainer.jsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport \"./style.css\";\r\nconst PostView = ({ post }) => {\r\n  const content = useRef();\r\n  useEffect(() => {\r\n    content.current.innerHTML = post.content;\r\n  }, [post]);\r\n  return (\r\n    <>\r\n      <div className=\"container py-5 text-center\" style={{ marginTop: \"10px\" }}>\r\n        <div className=\"post-body\">\r\n          <h2 className=\"title\">《{post.title}》</h2>\r\n          <div className=\"created-time\">发表于 {post[\"created-time\"]}</div>\r\n          {/* <div className=\"cover\">\r\n            <img src={post['cover-image']} />\r\n          </div> */}\r\n\r\n          <div className=\"content\" ref={content}></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostView;\r\n","import { FixedSizeList } from \"react-window\";\r\nimport PostView from \"./PostView\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { get } from \"utils/api\";\r\nimport { AdminConstants } from \"utils/constants\";\r\nimport TopNav from \"../Head/TopNav\";\r\nimport { Skeleton } from \"antd\";\r\n\r\nconst Posts = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      setLoading(true);\r\n      const result = await get(AdminConstants.POSTS_URI, [\r\n        {\r\n          key: \"useMock\",\r\n          value: \"true\",\r\n        },\r\n      ]);\r\n\r\n      result.sort((a, b) => {\r\n        return new Date(b[\"created-time\"]) - new Date(a[\"created-time\"]);\r\n      });\r\n      setPosts(result);\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const renderRow = ({ index }) => {\r\n    return <PostView post={posts[index]} />;\r\n  };\r\n  return (\r\n    <div>\r\n      <TopNav activeIndex=\"post\" />\r\n      {loading ? (\r\n        <div>\r\n          <Skeleton avatar paragraph />\r\n          <Skeleton avatar paragraph />\r\n          <Skeleton avatar paragraph />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {\" \"}\r\n          <FixedSizeList\r\n            height={window.innerHeight}\r\n            width={window.innerWidth}\r\n            itemCount={posts.length}\r\n            itemSize={1}\r\n          >\r\n            {renderRow}\r\n          </FixedSizeList>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n"],"names":["_ref","post","content","useRef","useEffect","current","innerHTML","_jsx","_Fragment","children","className","style","marginTop","_jsxs","title","ref","Posts","posts","setPosts","useState","loading","setLoading","async","result","get","AdminConstants","POSTS_URI","key","value","sort","a","b","Date","fetchPosts","TopNav","activeIndex","Skeleton","avatar","paragraph","FixedSizeList","height","window","innerHeight","width","innerWidth","itemCount","length","itemSize","index","PostView"],"sourceRoot":""}